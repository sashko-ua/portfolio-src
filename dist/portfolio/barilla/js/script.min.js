"use strict";const btn=document.querySelector(".main__btn"),error=[...document.querySelectorAll(".error")],radio=[...document.querySelectorAll('input[type="radio"]')],radioLabel=[...document.querySelectorAll(".form__radio-label")],radioErr=document.querySelector(".form__radio-error"),firstname=document.querySelector("input[name=firstname]"),firstnameLabel=document.querySelector(".firstname__label"),firstnameErr=document.querySelector(".firstname__error"),lastname=document.querySelector("input[name=lastname]"),lastnameErr=document.querySelector(".lastname__error"),lastnameLabel=document.querySelector(".lastname__label"),email=document.querySelector("input[name=email]"),emailLabel=document.querySelector(".email__label"),emailErr=document.querySelector(".email__error"),regex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,dayOfBirth=document.querySelector("select[name=dayofbirth]"),monthOfBirth=document.querySelector("select[name=monthofbirth]"),yearOfBirth=document.querySelector("select[name=yearofbirth]"),dateErr=document.querySelector(".date__error"),selects=[...document.querySelectorAll("select")];function clearErrStyleRadio(){radioLabel.forEach(e=>{e.addEventListener("click",()=>{radioLabel.forEach(e=>{e.classList.remove("error-border"),radioErr.innerHTML=""})})})}function radioValidate(){0==radio[0].checked&&0==radio[1].checked&&(radioErr.innerHTML="completa correttamente il campo: sesso",radioLabel.forEach(e=>{e.classList.add("error-border")}))}function firstnameValidate(){""==firstname.value&&(firstnameErr.innerHTML="completa correttamente il campo: nome",firstname.classList.add("error-border-bottom"))}function lastnameValidate(){""==lastname.value&&(lastnameErr.innerHTML="completa correttamente il campo: cognome",lastname.classList.add("error-border-bottom"))}function emailValidate(){""!=email.value&&regex.test(email.value)||(emailErr.innerHTML="completa correttamente il campo: email",email.classList.add("error-border-bottom"))}function dayValidate(){0==dayOfBirth.selectedIndex?dayOfBirth.classList.add("dateErr"):dayOfBirth.classList.remove("dateErr")}function monthValidate(){0==monthOfBirth.selectedIndex?monthOfBirth.classList.add("dateErr"):monthOfBirth.classList.remove("dateErr")}function yearValidate(){0==yearOfBirth.selectedIndex?yearOfBirth.classList.add("dateErr"):yearOfBirth.classList.remove("dateErr")}firstname.addEventListener("blur",()=>{""==firstname.value?firstnameLabel.classList.remove("label_active"):firstnameLabel.classList.add("label_active")}),lastname.addEventListener("blur",()=>{""==lastname.value?lastnameLabel.classList.remove("label_active"):lastnameLabel.classList.add("label_active")}),email.addEventListener("blur",()=>{""==email.value?emailLabel.classList.remove("label_active"):emailLabel.classList.add("label_active")}),btn.addEventListener("click",e=>{e.preventDefault(),radioValidate(),firstnameValidate(),lastnameValidate(),emailValidate(),dayValidate(),monthValidate(),yearValidate()}),clearErrStyleRadio(),firstname.addEventListener("blur",()=>{firstnameValidate()}),firstname.addEventListener("input",()=>{firstname.classList.remove("error-border-bottom"),firstnameErr.innerHTML=""}),firstname.addEventListener("click",()=>{firstnameErr.innerHTML=""}),lastname.addEventListener("blur",()=>{lastnameValidate()}),lastname.addEventListener("input",()=>{lastname.classList.remove("error-border-bottom")}),lastname.addEventListener("click",()=>{lastnameErr.innerHTML=""}),email.addEventListener("blur",()=>{emailValidate()}),email.addEventListener("click",()=>{emailErr.innerHTML=""}),email.addEventListener("input",()=>{email.classList.remove("error-border-bottom"),emailValidate(),emailErr.innerHTML=""}),dayOfBirth.addEventListener("change",()=>{dayValidate()}),monthOfBirth.addEventListener("change",()=>{monthValidate()}),yearOfBirth.addEventListener("change",()=>{yearValidate()}),selects.forEach(e=>{e.addEventListener("change",()=>{dayOfBirth.classList.contains("dateErr")||monthOfBirth.classList.contains("dateErr")||yearOfBirth.classList.contains("dateErr")?dateErr.innerHTML="I minori di 18 anni non possono partecipare!":dateErr.innerHTML=""})});